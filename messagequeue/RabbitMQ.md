# RabbitMQ概述

## 消息队列

消息队列传递消息一般有两种方式：

1. 点对点模式（P2P）：基于队列，生产者发送消息到队列，消费者从队列接收消息。一对一关系。
2. 发布/订阅模式（Pub/Sub）：发布者发布消息到主题（topic），消息订阅者从主题订阅消息。一对多关系。

消息中间件的作用：

1. **解耦**，应用程序之间不直接通信，而是基于存储和转发的应用程序之间的异步数据发送。可以使开发人员无需了解RPC 和网络通信协议的细节。
2. **存储**，面对数据处理失败，可以将数据持久化到最终处理成功。规避数据丢失风险。
3. **扩展性**，消息中间件解耦了应用的处理过程，只要另外增加处理过程 就可以提高消息入队和处理效率，无需修改代码、调节参数等。
4. **削峰**，可以处理因访问量突增导致的访问压力。
5. **可恢复性**，消息中间件降低进程间的耦合度，即使有处理消息的进程挂掉，加入的消息也可在系统回复后进行处理。
6. **顺序保证**，支持消息处理的顺序。
7. **缓冲**，可通过缓冲层控制消息处理的速度。
8. **异步通信**，消息中间件的异步处理机制，可以控制消息的处理时间。

## RabbitMQ简介

RabbitMQ是采用Erlang语言实现[AMQP](#AMQP)的消息中间件。

起源于金融系统，用于在分布式系统中存储转发消息。

## RabbitMQ特点

1. **高可靠**：使用持久化、传输确认、发布确认...等机制来保证可靠性。

2. **易扩展**：多个RabbitMQ可组成一个集群，可动态扩展集群中的节点。

3. **高可用**：队列可以在集群中的机器上设置镜像，使得在部分节点出现问题的情况下队列仍然可用。
4. **路由灵活**：在消息进入队列之前，通过交换器来路由消息。
   - 对于典型的路由功能，RabbitMQ 己经提供了一些内置的交换器来实现。
   - 针对更复杂的路由功能，可以将多个交换器绑定在一起， 也可以通过插件机制来实现自己的交换器。
5. **多协议支持**：原生支持AMQP 协议，还支持STOMP , MQTT 等多种消息中间件协议。
6. **功能特性丰富**：
   - 支持多种语言：Java、Python、PHP...等
   - 提供管理界面：可以监控、管理消息和集群中的节点等
   - 丰富的插件：提供许多插件来扩展RabbitMQ功能，支持自定义插件。



## RabbitMQ基本概念

1. **生产者**

2. **消费者**
3. **队列**
4. **交换器（Exchange）**
5. **路由键**
6. **绑定**
7. **连接**



## AMQP

Advanced Message Queuing Protocol ，高级消息队列协议

# RabbitMQ使用

## RabbitMQ安装





## RabbitMQ实战





# RabbitMQ原理

## RabbitMQ源码分析





## RabbitMQ模块原理



# RabbitMQ优化

## RabbitMQ参数优化



## RabbitMQ二次开发

